# OpenOCD target config for XIAO nRF54L15 (CMSIS-DAP over SWD)
#
# Notes:
# - This config is valid for OpenOCD 0.12 target attach/debug.
# - Main upload path for this core remains pyOCD.

adapter driver cmsis-dap
transport select swd

set CHIPNAME nrf54l15
set CPUTAPID 0x6ba02477

swd newdap $CHIPNAME cpu -expected-id $CPUTAPID
dap create $CHIPNAME.dap -chain-position $CHIPNAME.cpu
target create $CHIPNAME.cpu cortex_m -dap $CHIPNAME.dap

# XIAO's onboard CMSIS-DAP probe is stable at 4 MHz SWD.
adapter speed 4000

# No SRST line is exposed through the onboard CMSIS-DAP interface.
reset_config none
